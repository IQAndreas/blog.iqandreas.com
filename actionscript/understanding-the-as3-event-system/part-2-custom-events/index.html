
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Understanding the AS3 Event System #2 - Custom Events - Andreas Renberg (IQAndreas)</title>
  <meta name="author" content="Andreas Renberg (IQAndreas)">

  
  <meta name="description" content="This thread is part 2 in the &#8221;Understanding the AS3 Event System&#8221; series. It continues on the &#8220;office&#8221; illustration used in &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://IQAndreas.github.com/actionscript/understanding-the-as3-event-system/part-2-custom-events/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Andreas Renberg (IQAndreas)" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-15151414-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Andreas Renberg (IQAndreas)</a></h1>
  
    <h2>I'm only a Theoretical Developer</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:IQAndreas.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/contact">Contact</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/archives">Archives</a></li>
  <li><a href="/minecraft">MineCraft Mods</a></li>
  <li><a href="/repositories">My Repositories</a></li>
  <li><a href="https://twitter.com/IQAndreas">My Twitter</a></li>
  <li><a href="https://github.com/IQAndreas">My GitHub</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Understanding the AS3 Event System #2 - Custom Events</h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-10-12T07:53:00+02:00" pubdate data-updated="true">Oct 12<span>th</span>, 2010</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>This thread is part 2 in the &#8221;<a href="/actionscript/understanding-the-as3-event-system/">Understanding the AS3 Event System</a>&#8221; series. It continues on the &#8220;office&#8221; illustration used in <a href="/actionscript/understanding-the-as3-event-system/part-1-the-basics">part 1</a>. If you have not read part 1, it is recommended that you do so.</p>

<p>I originally wrote this thread as a response to a Kirupa forum thread:
<a href="http://www.kirupa.com/forum/showthread.php?t=355040">http://www.kirupa.com/forum/showthread.php?t=355040</a></p>

<p>This is my first draft, so any opinions or thoughts are deeply appreciated, especially if there is anything you still don&#8217;t fully understand or would like me to clarify further.</p>

<!-- more -->


<hr />

<p>Listen, don&#8217;t tell my boss, but those days when work gets slow, I fire up some StarCraft! StarCraft is no fun alone, so Nico, Bob, Larry, and I all play against eachother. The problem is that we all need to be logged on at the same time in order to play together. I&#8217;m the one who plays the most, so I am the &#8220;Game Master&#8221;; the one who starts up the server, chooses a map, and waits for everyone else to join in.</p>

<p>We need some way to alert each other when I start up a StarCraft game, <em>and</em> keep it a secret from my boss (he reads all our emails, so I can&#8217;t tell them via email). So, we use the Event system!</p>

<h4>Custom Event Strings</h4>

<p>We have planned that whenever I am about to start up a new game, I stand up and yell out to everyone <em>&#8220;I am about to call <code>Yamato</code>!&#8221;</em> (who our boss assumes is one of my Japanese clients)</p>

<p>Everyone knows that the custom <code>event string</code> (also known as <code>event type</code>) for when everyone listening should play starcraft is <code>"Yamato"</code>. So, ahead of time, Nico, Bob, and Larry listen for my <code>"Yamato"</code> event:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>homeButton.addEventListener("Yamato", startPlayingStarScraft);</span></code></pre></td></tr></table></div></figure>


<p>Now, we may start playing dozens of different games, and I have chosen a different &#8220;code name&#8221; as the event string for each type of game:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>homeButton.addEventListener("MarcoPolo", startPlayingAOE);
</span><span class='line'>homeButton.addEventListener("Gelinor", startPlayingRuneScape);
</span><span class='line'>homeButton.addEventListener("Germany", startPlayingCOD);
</span><span class='line'>homeButton.addEventListener("Orcish", startPlayingWOW);</span></code></pre></td></tr></table></div></figure>


<h4>Custom Events</h4>

<p>Now, I could create a different type of <code>Event</code> Folder for each type of game, such as <code>StarCraftEvent</code>, <code>RuneScapeEvent</code>, <code>AOEEvent</code> etc.</p>

<p>Each type of event file would have information inside of it, for instance, the <code>StarCraftEvent</code> Folder may have the following properties:
 - <em>target</em> - Me, since I&#8217;m the one &#8220;dispatching&#8221; the event
 - <em>type</em> - the custom event string, in this case <em>&#8220;Yamato&#8221;</em>
 - <em>map</em> - the StarCraft map we will be playing in
 - <em>players</em> - a list of all players
 - <em>settings</em> - the game settings</p>

<p>And our class would look something like this (note that <code>target</code> and <code>type</code> are automatically inherited by the <code>Event</code> since you <code>extend</code> it)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>public class StarCraftEvent extends Event
</span><span class='line'>{
</span><span class='line'>    public function StarCraftEvent(the_type:String, the_map:SCMap, the_players:Array, the_settings:GameSettings)
</span><span class='line'>    {
</span><span class='line'>        //Since you extend the Event, let the super class know a few more additional details
</span><span class='line'>        super(the_type);
</span><span class='line'>        
</span><span class='line'>        map = the_map;
</span><span class='line'>        players = the_players;
</span><span class='line'>        settings = the_settings;
</span><span class='line'>    }
</span><span class='line'>        
</span><span class='line'>    public var map:SCMap;
</span><span class='line'>    public var players:Array;
</span><span class='line'>    public var settings:GameSettings
</span><span class='line'>}</span></code></pre></td></tr></table></div></figure>


<p>This would be my totally custom made event class! <img alt="" border="0" class="inlineimg" src="http://www.kirupa.com/forum/images/smilies/d_smile.gif" title="Big Smile" /> Perfectly customized for whenever we want to start a StarCraft game, allowing everyone to get the information they need!</p>

<h4>Dispatching the Custom Event</h4>

<p>This is exactly as simple as it was dispatching the <code>"clicked"</code> event:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>//Create the event
</span><span class='line'>var players:Array = [Andreas, Nico, Bob, Larry];
</span><span class='line'>var scEvent:StarCraftEvent = new StarCraftEvent("&lt;u&gt;Yamato&lt;/u&gt;", lostTemple, players, defaultSettings);
</span><span class='line'>
</span><span class='line'>//Dispatch the event (and it's folder containing all the info)
</span><span class='line'>dispatchEvent(scEvent);</span></code></pre></td></tr></table></div></figure>


<p>That <u>dispatches an event</u> which alerts <u>everyone who is listening</u> that I am about to start up a StarCraft game.</p>

<p>So, Nico, Bob, and Larry run up to my cubicle and I hand them all the <code>StarCraftEvent</code> Folder containing ALL the information they need to join in the game.</p>

<h3>Do you really need to create Custom Events?</h3>

<p>Now I can create a new Custom Event for each and every game we play and that would alright.</p>

<p>But I noticed, no one really reads the information in the <code>Event</code> Folder! I spent good money putting together and printing out all the information for those folders, and no one reads them! They get the file from me, then run back to their own cubicles, fire up the game, and throw the <code>Event</code> Folder directly into the trash.</p>

<p>Surround your pullquote like this {&#8221; text to be quoted &#8220;}</p>

<p>Instead, what if I print out a plain old <code>Event</code> Folder? All it says is the <code>target</code> and the <code>type</code>, but if they want more information (which someone once in a while does) they can ask me for it directly.</p>

<p>FORGET about the hassle with the <code>StarCraftEvent</code> class, and just do this:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>var eventFolder:Event = new Event("Yamato");
</span><span class='line'>dispatchEvent(eventFolder);</span></code></pre></td></tr></table></div></figure>


<p>99% of the time. That is all you will ever need. You save a lot of unnecessary work.</p>

<p><strong>You don&#8217;t always need to create custom <u>Events</u>, usually it is enough just using custom <u>Event Strings</u>.</strong></p>

<p>That is Custom Events 101</p>

<p>Continue to <a href="/actionscript/understanding-the-as3-event-system/part-3-easy-event-bubbling">Part #3 - Easy Event Bubbling</a></p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Andreas Renberg (IQAndreas)</span></span>

      








  


<time datetime="2010-10-12T07:53:00+02:00" pubdate data-updated="true">Oct 12<span>th</span>, 2010</time>
      

<span class="categories">
  
    <a class='category' href='/posts/categories/actionscript/'>actionscript</a>, <a class='category' href='/posts/categories/understanding-the-as3-event-system/'>understanding-the-as3-event-system</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://IQAndreas.github.com/actionscript/understanding-the-as3-event-system/part-2-custom-events/" data-via="" data-counturl="http://IQAndreas.github.com/actionscript/understanding-the-as3-event-system/part-2-custom-events/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/actionscript/understanding-the-as3-event-system/part-1-the-basics/" title="Previous Post: Understanding the AS3 Event System #1 - The Basics">&laquo; Understanding the AS3 Event System #1 - The Basics</a>
      
      
        <a class="basic-alignment right" href="/actionscript/understanding-the-as3-event-system/part-3-easy-event-bubbling/" title="Next Post: Understanding the AS3 Event System #3 - Easy Event Bubbling">Understanding the AS3 Event System #3 - Easy Event Bubbling &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/git/best-practices-for-git-ignore/">Best practices for git ignore</a>
      </li>
    
      <li class="post">
        <a href="/actionscript/how-to-ignore-the-constructor-when-extending-a-class/">How to Ignore the Constructor when Extending a Class</a>
      </li>
    
      <li class="post">
        <a href="/monologues/pick-a-community-any-community/">Pick a Community, any Community</a>
      </li>
    
      <li class="post">
        <a href="/i-will-code-for-free/">I Will Code for Free!</a>
      </li>
    
      <li class="post">
        <a href="/monologues/why-so-many-monologues/">Why so many Monologues?</a>
      </li>
    
  </ul>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Andreas Renberg (IQAndreas) -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
